        -:    0:Source:/home/krillin/code/nsu/23203_knyazkov/lab1/src/operators.cpp
        -:    1:#include "hashtable.h"
        -:    2:
        -:    3:
        -:    4:// copy assignment
        -:    5:// 1) acquire new resources
        -:    6:// 2) release old resources
        -:    7:// 3) assign "new" resource values to the object
function _ZN9HashTableaSERKS_ called 0 returned 0% blocks executed 0%
    #####:    8:HashTable &HashTable::operator=(const HashTable &other) {
    #####:    9:  if (this == &other)
branch  0 never executed (fallthrough)
branch  1 never executed
    #####:   10:    return *this;
        -:   11:
        -:   12:  // deallocating old resources
        -:   13:
    #####:   14:  for (size_t i = 0; i < capacity; i++) {
branch  0 never executed
branch  1 never executed (fallthrough)
    #####:   15:    if (table[i] != nullptr)
branch  0 never executed (fallthrough)
branch  1 never executed
    #####:   16:      delete table[i];
branch  0 never executed (fallthrough)
branch  1 never executed
call    2 never executed
call    3 never executed
        -:   17:  }
    #####:   18:  delete[] table;
branch  0 never executed (fallthrough)
branch  1 never executed
call    2 never executed
        -:   19:
        -:   20:  // copying data from other object
    #####:   21:  capacity = other.capacity;
    #####:   22:  size = other.size;
        -:   23:
    #####:   24:  table = new HashNode *[capacity];
branch  0 never executed (fallthrough)
branch  1 never executed
call    2 never executed
call    3 never executed
        -:   25:
    #####:   26:  for (size_t i = 0; i < capacity; ++i) {
branch  0 never executed
branch  1 never executed (fallthrough)
    #####:   27:    if (other.table[i] != nullptr) {
branch  0 never executed (fallthrough)
branch  1 never executed
    #####:   28:      table[i] = new HashNode(*other.table[i]);
call    0 never executed
call    1 never executed
branch  2 never executed (fallthrough)
branch  3 never executed (throw)
branch  4 never executed (fallthrough)
branch  5 never executed
call    6 never executed
        -:   29:    } else {
    #####:   30:      table[i] = nullptr;
        -:   31:    }
        -:   32:  }
        -:   33:
    #####:   34:  return *this;
        -:   35:}
        -:   36:
        -:   37:// move assignment
        -:   38:// 1) deallocate current object's data
        -:   39:// 2) copy other's data
        -:   40:// 3) mark other data as nullptr
function _ZN9HashTableaSEOS_ called 0 returned 0% blocks executed 0%
    #####:   41:HashTable &HashTable::operator=(HashTable &&other) {
    #####:   42:  if (this == &other) // sus
branch  0 never executed (fallthrough)
branch  1 never executed
    #####:   43:    return *this;
        -:   44:
    #####:   45:  for (size_t i = 0; i < capacity; ++i) {
branch  0 never executed
branch  1 never executed (fallthrough)
    #####:   46:    if (table[i] != nullptr)
branch  0 never executed (fallthrough)
branch  1 never executed
    #####:   47:      delete table[i];
branch  0 never executed (fallthrough)
branch  1 never executed
call    2 never executed
call    3 never executed
        -:   48:  }
    #####:   49:  delete[] table;
branch  0 never executed (fallthrough)
branch  1 never executed
call    2 never executed
        -:   50:
    #####:   51:  table = other.table;
    #####:   52:  size = other.size;
    #####:   53:  capacity = other.capacity;
        -:   54:
    #####:   55:  other.table = nullptr;
    #####:   56:  other.capacity = 0;
    #####:   57:  other.size = 0;
        -:   58:
    #####:   59:  return *this;
        -:   60:}
        -:   61:
        -:   62:// returns value by k key
function _ZN9HashTableixERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE called 11 returned 100% blocks executed 56%
       11:   63:Value &HashTable::operator[](const Key &k) {
       11:   64:  int index = hash(k);
call    0 returned 100%
        -:   65:
      11*:   66:  if (table[index] != nullptr && table[index]->key == k) {
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
call    2 returned 100%
branch  3 taken 100% (fallthrough)
branch  4 taken 0%
branch  5 taken 100% (fallthrough)
branch  6 taken 0%
       11:   67:    return table[index]->value;
        -:   68:  }
        -:   69:
    #####:   70:  HashNode *newNode = new HashNode(); 
call    0 never executed
call    1 never executed
branch  2 never executed (fallthrough)
branch  3 never executed (throw)
branch  4 never executed (fallthrough)
branch  5 never executed
call    6 never executed
    #####:   71:  this->insert(newNode->key, newNode->value);
call    0 never executed
        -:   72:
        -:   73:  // Return the newly inserted value
    #####:   74:  return newNode->value;
        -:   75:}
        -:   76:
        -:   77:// comparassion between tables
function _ZeqRK9HashTableS1_ called 0 returned 0% blocks executed 0%
    #####:   78:bool operator==(const HashTable &a, const HashTable &b) {
    #####:   79:  if (a.size != b.size) {
branch  0 never executed (fallthrough)
branch  1 never executed
    #####:   80:    return false;
        -:   81:  }
        -:   82:
    #####:   83:  for (size_t i = 0; i < a.capacity; i++) {
branch  0 never executed
branch  1 never executed (fallthrough)
    #####:   84:    if (a.table[i] != nullptr) {
branch  0 never executed (fallthrough)
branch  1 never executed
    #####:   85:      if (b.table[i] == nullptr || b.table[i]->key != a.table[i]->key ||
branch  0 never executed (fallthrough)
branch  1 never executed
call    2 never executed
branch  3 never executed (fallthrough)
branch  4 never executed
branch  5 never executed (fallthrough)
branch  6 never executed
branch  7 never executed (fallthrough)
branch  8 never executed
    #####:   86:          b.table[i]->value != a.table[i]->value) {
call    0 never executed
    #####:   87:        return false;
        -:   88:      }
        -:   89:    }
        -:   90:  }
    #####:   91:  return true;
        -:   92:}
        -:   93:
function _ZneRK9HashTableS1_ called 0 returned 0% blocks executed 0%
    #####:   94:bool operator!=(const HashTable &a, const HashTable &b) { return !(a == b); }
call    0 never executed
